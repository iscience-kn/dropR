<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="dropR">
<title>Interactive Dropout Analysis on the R Console • dropR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Interactive Dropout Analysis on the R Console">
<meta property="og:description" content="dropR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dropR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/r_console_usage.html">Interactive Dropout Analysis on the R Console</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Interactive Dropout Analysis on the R Console</h1>
            
      
      
      <div class="d-none name"><code>r_console_usage.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://mbannert.github.io/dropR/">dropR</a></span><span class="op">)</span></span></code></pre></div>
<p>Though the low-hurdle of the online version with its graphical user
interface (GUI) is appealing for many use cases, there are good reasons
to directly use dropR’s backend on the R console - without the GUI: Some
data.frames may need extra formatting or additional cleaning before they
suit the dropR input format or you may want adapt and extend your
analysis in a way the GUI does not allow to.</p>
<div class="section level2">
<h2 id="dropout-analysis-walkthrough">Dropout Analysis Walkthrough<a class="anchor" aria-label="anchor" href="#dropout-analysis-walkthrough"></a>
</h2>
<p>This section describes how to extract information on dropout from the
demo dataset without using the dropR shiny UI. First, let’s make sure
the dema dataset is loaded and available. They dataset should look like
this</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://mbannert.github.io/dropR/">dropR</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"dropRdemo"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="basic-dropout-statistics">Basic Dropout Statistics<a class="anchor" aria-label="anchor" href="#basic-dropout-statistics"></a>
</h3>
<p>Now, let’s extract dropout, i.e., information on when participant
dropped out of the questionnaire and never returned. In the demo dataset
questions are easily identified by their prefix <code>vi_</code></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">qs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"vi_"</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">dropRdemo</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># add numeric drop out position to original dataset</span></span>
<span><span class="va">dropRdemo</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_dropout_idx.html">add_dropout_idx</a></span><span class="op">(</span><span class="va">dropRdemo</span>, q_pos <span class="op">=</span> <span class="va">qs</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dropRdemo</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">53</span>,<span class="fl">54</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                     obs_id vi_1 vi_2 vi_52</span></span>
<span><span class="co">#&gt; 1 7a9f33c4f660d535556925bf706835fb083ead1f    1    1     1</span></span>
<span><span class="co">#&gt; 2 e11f946fd40193aea67e8979bfc69f6b176c9ceb    1   NA  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3 e72a502a213c8be51dbb2c67f3310f08f9be0a67    1   NA     1</span></span>
<span><span class="co">#&gt; 4 f90f5f127796583cd8b4297ade58c0ded4cfc982    1    1     1</span></span>
<span><span class="co">#&gt; 5 20bc72c82581e0c76d3c846b9c1fdc3357febc2f    1   NA     1</span></span>
<span><span class="co">#&gt; 6 76b97a45273d6dcd734896d08e31a0833823e99d    1   NA  &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   experimental_condition</span></span>
<span><span class="co">#&gt; 1                     11</span></span>
<span><span class="co">#&gt; 2                     22</span></span>
<span><span class="co">#&gt; 3                     22</span></span>
<span><span class="co">#&gt; 4                     11</span></span>
<span><span class="co">#&gt; 5                     12</span></span>
<span><span class="co">#&gt; 6                     22</span></span></code></pre></div>
<p>The <code>experimental_condition</code> column indicates belonging to
a sub sample group each of which was treated differently. For example,
groups receive a different sequence of questions or different wording.
Now, let’s compute a table containing basic dropout statistics for each
item.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/" class="external-link">kableExtra</a></span><span class="op">)</span></span>
<span><span class="va">stats_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compute_stats.html">compute_stats</a></span><span class="op">(</span><span class="va">dropRdemo</span>,</span>
<span>                             by_cond <span class="op">=</span> <span class="st">"experimental_condition"</span>,</span>
<span>                             no_of_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">qs</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">stats_table</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">do_idx</th>
<th align="left">condition</th>
<th align="right">cs</th>
<th align="right">N</th>
<th align="right">remain</th>
<th align="right">pct_remain</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">total</td>
<td align="right">10</td>
<td align="right">246</td>
<td align="right">236</td>
<td align="right">0.9593496</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">total</td>
<td align="right">13</td>
<td align="right">246</td>
<td align="right">233</td>
<td align="right">0.9471545</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">total</td>
<td align="right">22</td>
<td align="right">246</td>
<td align="right">224</td>
<td align="right">0.9105691</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">total</td>
<td align="right">25</td>
<td align="right">246</td>
<td align="right">221</td>
<td align="right">0.8983740</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">total</td>
<td align="right">26</td>
<td align="right">246</td>
<td align="right">220</td>
<td align="right">0.8943089</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">total</td>
<td align="right">30</td>
<td align="right">246</td>
<td align="right">216</td>
<td align="right">0.8780488</td>
</tr>
</tbody>
</table>
<p>Out of 246 participants in the demo sample, 236 participants remain
in the survey, accounting for 95.93 percent of the sample. The
<code>cs</code> column shows the cummulative dropout count.</p>
</div>
<div class="section level3">
<h3 id="plotting-dropout-curves">Plotting Dropout Curves<a class="anchor" aria-label="anchor" href="#plotting-dropout-curves"></a>
</h3>
<p>Based on the above statistics table, dropR plots dropout curves very
conveniently.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_do_curve.html">plot_do_curve</a></span><span class="op">(</span><span class="va">stats_table</span><span class="op">)</span></span></code></pre></div>
<p><img src="r_console_usage_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="running-a-chi-sq--test-for-a-selected-question">Running a Chi-sq. Test for a Selected Question<a class="anchor" aria-label="anchor" href="#running-a-chi-sq--test-for-a-selected-question"></a>
</h3>
<blockquote>
<p><strong><em>NOTE:</em></strong> Chi-sq. tests are only available when
an column denoting the experimental condition is given.</p>
</blockquote>
<p>Let’s compute a Chisq test at question 15 for experimentatl
conditions <code>11</code> and <code>12</code>, dropR’s dropout
Chisq-Test returns a list containing the actual <em>test results</em>
and dropout overview table at the selected question.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">do_chisq</span><span class="op">(</span><span class="va">stats_table</span>,</span>
<span>         chisq_question <span class="op">=</span> <span class="fl">15</span>,</span>
<span>         sel_cond_chisq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'11'</span>,<span class="st">'12'</span><span class="op">)</span>,</span>
<span>         fisher <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`Test result`</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Pearson's Chi-squared test with simulated p-value (based on 2000</span></span>
<span><span class="co">#&gt;  replicates)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data:  test_table</span></span>
<span><span class="co">#&gt; X-squared = 1.9315, df = NA, p-value = 0.2044</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`Dropout at question 15`</span></span>
<span><span class="co">#&gt;           participants</span></span>
<span><span class="co">#&gt; conditions dropout remaining</span></span>
<span><span class="co">#&gt;         11      14        58</span></span>
<span><span class="co">#&gt;         12       6        51</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by ‘Matthias Bannert’.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
