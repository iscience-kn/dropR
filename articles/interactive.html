<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Interactive Dropout Analysis with dropR • dropR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Interactive Dropout Analysis with dropR">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dropR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/interactive.html">Interactive Dropout Analysis with dropR</a></li>
    <li><a class="dropdown-item" href="../articles/tests.html">Running Dropout related Tests with dropR</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/iscience-kn/dropR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Interactive Dropout Analysis with dropR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/iscience-kn/dropR/blob/main/vignettes/interactive.Rmd" class="external-link"><code>vignettes/interactive.Rmd</code></a></small>
      <div class="d-none name"><code>interactive.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://iscience-kn.github.io/dropR/">dropR</a></span><span class="op">)</span></span></code></pre></div>
<p>Though the low-hurdle of the online version with its graphical user
interface (GUI) is appealing for many use cases, there are good reasons
to directly use dropR’s backend in the R console without the GUI: Some
data.frames may need extra formatting or additional cleaning before they
suit the dropR input format or you may want adapt and extend your
analysis in a way the GUI does not allow to. If you are writing a report
directly in RMarkdown, you can also make use of automatically reporting
your results in your document or embedding a dropout plot from
dropR.</p>
<div class="section level2">
<h2 id="dropout-analysis-walkthrough">Dropout Analysis Walkthrough<a class="anchor" aria-label="anchor" href="#dropout-analysis-walkthrough"></a>
</h2>
<p>This section describes how to extract information on dropout from the
demo data set without using the dropR shiny UI. First, let’s make sure
the demo data set is loaded and available. The data set should look like
this:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://iscience-kn.github.io/dropR/">dropR</a></span><span class="op">)</span></span>
<span><span class="co"># Use demo dataset in a new data frame to be edited</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">dropRdemo</span></span></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:left;">
obs_id
</th>
<th style="text-align:right;">
experimental_condition
</th>
<th style="text-align:right;">
vi_1
</th>
<th style="text-align:right;">
vi_2
</th>
<th style="text-align:right;">
vi_3
</th>
<th style="text-align:left;">
…
</th>
<th style="text-align:right;">
vi_51
</th>
<th style="text-align:right;">
vi_52
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
7a9f33
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
e11f94
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
e72a50
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
f90f5f
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
20bc72
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<div class="section level3">
<h3 id="basic-dropout-statistics">Basic Dropout Statistics<a class="anchor" aria-label="anchor" href="#basic-dropout-statistics"></a>
</h3>
<p>Now, let’s extract dropout, i.e., information on when a participant
dropped out of the questionnaire and never returned. For this, we need
to identify the last question that someone filled out before only
missing data is present a.k.a <code>NA</code>s. We will use the
<code>add_dropout_idx</code> function on the demo data set and add the
position of all question variables in the data. In the demo data,
questions are easily identified by their prefix <code>vi_</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">qs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"vi_"</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># add numeric drop out position to original dataset</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_dropout_idx.html">add_dropout_idx</a></span><span class="op">(</span><span class="va">df</span>, q_pos <span class="op">=</span> <span class="va">qs</span><span class="op">)</span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">obs_id</th>
<th align="right">experimental_condition</th>
<th align="right">vi_1</th>
<th align="right">vi_52</th>
<th align="right">do_idx</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">7a9f33</td>
<td align="right">11</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">53</td>
</tr>
<tr class="even">
<td align="left">e11f94</td>
<td align="right">22</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">e72a50</td>
<td align="right">22</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">53</td>
</tr>
<tr class="even">
<td align="left">f90f5f</td>
<td align="right">11</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">53</td>
</tr>
<tr class="odd">
<td align="left">20bc72</td>
<td align="right">12</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">53</td>
</tr>
<tr class="even">
<td align="left">76b97a</td>
<td align="right">22</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">27</td>
</tr>
</tbody>
</table>
<p>The <code>experimental_condition</code> column indicates belonging to
a sub sample, each of which was treated differently. For example, groups
receive a different sequence of questions or different wording.</p>
<p>Next we’ll compute a table containing basic dropout statistics for
each item using the <code>compute_stats</code> function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compute_stats.html">compute_stats</a></span><span class="op">(</span><span class="va">df</span>,</span>
<span>                       by_cond <span class="op">=</span> <span class="st">"experimental_condition"</span>,</span>
<span>                       no_of_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">qs</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">stats</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">q_idx</th>
<th align="left">condition</th>
<th align="right">cs</th>
<th align="right">N</th>
<th align="right">remain</th>
<th align="right">pct_remain</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">total</td>
<td align="right">0</td>
<td align="right">246</td>
<td align="right">246</td>
<td align="right">1.0000000</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">total</td>
<td align="right">10</td>
<td align="right">246</td>
<td align="right">236</td>
<td align="right">0.9593496</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">total</td>
<td align="right">13</td>
<td align="right">246</td>
<td align="right">233</td>
<td align="right">0.9471545</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">total</td>
<td align="right">22</td>
<td align="right">246</td>
<td align="right">224</td>
<td align="right">0.9105691</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">total</td>
<td align="right">25</td>
<td align="right">246</td>
<td align="right">221</td>
<td align="right">0.8983740</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">total</td>
<td align="right">26</td>
<td align="right">246</td>
<td align="right">220</td>
<td align="right">0.8943089</td>
</tr>
</tbody>
</table>
<p>Out of 246 participants in total in the demo sample, 246 participants
remain in the survey at the first question, accounting for 100 percent
of the sample. At the last question of the experiment, 61.79% of all
participants “survived”. The <code>cs</code> column shows the absolute
cumulative dropout count.</p>
<p>The stats table shows the dropout statistics for the total sample
first and if defined in the function <code>by_cond</code>, it also shows
the same statistics for each experimental condition separately. This
table is the basis for many further analyses and can easily be
reported.</p>
</div>
<div class="section level3">
<h3 id="plotting-dropout-curves">Plotting Dropout Curves<a class="anchor" aria-label="anchor" href="#plotting-dropout-curves"></a>
</h3>
<p>Based on the above statistics table, dropR plots dropout curves very
conveniently.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_do_curve.html">plot_do_curve</a></span><span class="op">(</span><span class="va">stats</span><span class="op">)</span></span></code></pre></div>
<p><img src="interactive_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>By default, the function to plot dropout curves chooses a color
palette which is designed to de distinguishable for color blind
individuals. Adhering to some journal guidelines, you may also choose a
gray color palette, distinguishing the lines by line type and gray
value.</p>
</div>
</div>
<div class="section level2">
<h2 id="full-workflow-example-using-tidyverse">Full Workflow Example using <code>tidyverse</code><a class="anchor" aria-label="anchor" href="#full-workflow-example-using-tidyverse"></a>
</h2>
<p>To wrap up this Walkthrough, we want to show you a full analysis
example in just six lines of code using <code>tidyverse</code> workflow
with functions from <code>magrittr</code> and <code>ggplot2</code>.
Specifically, it is very easy to <code>pipe</code> several dropR
functions to create the full analysis as well as plotting all at once.
Moreover, it is easy to customize the plot further using common
<code>ggplot2</code> functions as shown. Assuming we want to create a
similar analysis as before with a customized plot output, we can achieve
this like so:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">dropRdemo</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="../reference/add_dropout_idx.html">add_dropout_idx</a></span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">54</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="../reference/compute_stats.html">compute_stats</a></span><span class="op">(</span>by_cond <span class="op">=</span> <span class="st">"experimental_condition"</span>, no_of_vars <span class="op">=</span> <span class="fl">52</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="../reference/plot_do_curve.html">plot_do_curve</a></span><span class="op">(</span>linetypes <span class="op">=</span> <span class="cn">F</span>, full_scale <span class="op">=</span> <span class="cn">F</span>, show_confbands <span class="op">=</span> <span class="cn">T</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Dropout Plot with tidyverse Workflow"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_color_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Dark2"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_fill_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Dark2"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Scale for <span style="color: #00BB00;">colour</span> is already present.</span></span>
<span><span class="co">#&gt; Adding another scale for <span style="color: #00BB00;">colour</span>, which will replace the existing scale.</span></span>
<span><span class="co">#&gt; Scale for <span style="color: #00BB00;">fill</span> is already present.</span></span>
<span><span class="co">#&gt; Adding another scale for <span style="color: #00BB00;">fill</span>, which will replace the existing scale.</span></span></code></pre></div>
<p><img src="interactive_files/figure-html/tidyflow-1.png" width="700"></p>
<p>Next, you may want to run more statistical dropout analyses using
<code>dropR</code>. You can find an in-depth tutorial in our <a href="https://iscience-kn.github.io/dropR/articles/tests.html">test
article</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Annika Tave Overlander, Matthias Bannert, Ulf-Dietrich Reips.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
